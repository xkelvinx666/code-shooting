app: code-game
stage: dev
component: nextjs
name: code-game-nextjs

inputs:
  src:
    dist: ./
    hook: npm install --legacy-peer-deps && npm run build
    exclude:
      - .env
  region: ap-guangzhou
  functionConf:
    name: ${name}
    runtime: Nodejs12.16
  apigatewayConf:
    protocols:
      - http
      - https
    environment: release
  staticConf:
    cosConf:
      replace: true
      bucket: code-game-nextjs